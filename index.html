<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Ember Starter Kit</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/bootstrap-responsive.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <script type="text/x-handlebars">
    <div class="navbar">
      <div class="navbar-inner">
        {{#linkTo 'index' class="brand"}} Ariel {{/linkTo}}
        <ul class="nav">
        <li>{{#linkTo 'notifications'}} Notifications {{/linkTo}}</li>
        <li>{{#linkTo 'profile' }} Profile {{/linkTo}}</li>
      </ul>
    </div>
  </div>

    {{outlet}}

  </script>

  <script type="text/x-handlebars" data-template-name="profile">
     {{#linkTo 'profile.edit' class="btn btn-danger"}}  edit {{/linkTo}}
     <ul class="unstyled">
       <li>{{email}}</li>
       <li>{{len}}</li>
     </ul>
  </script>

  <script type="text/x-handlebars" data-template-name="profile/edit">
      {{partial "profile/form"}}
  </script>

  <script type="text/x-handlebars" data-template-name="profile/_form">
      <h2>Edit Profile</h2>
      <div class="control-group">
        <label class="control-label">Email</label>
        <div class="controls">
          {{view App.EmailField elementId='profile-email' valueBinding="email"}}
          <span class="help-inline hidden">Please correct the error</span>
      </div>
      </div>
      <button {{action 'submit' content}}>Update</button>
  </script>

  <script type="text/x-handlebars" data-template-name="notifications">
     <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">

          {{#linkTo 'notifications.new' class="btn btn-primary"}}New Notification{{/linkTo}}

          <table class="table">
            <thead>
              <tr>
                <th>Recent Notifications</th>
              </tr>
            </thead>
            <tbody>
              {{#each model}}
              <tr>
                <td>
                  {{#linkTo 'notification' this}} {{name}} {{/linkTo}} <small class="muted">sent at {{dateFromNow whenSent}}</small>
                </td>
              </tr>
              {{/each}}
            </tbody>
          </table>

        </div>
        <div class="span9">
          {{outlet}}
        </div>
      </div>
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="notifications/index">
    {{#linkTo 'notifications.new' class="btn btn-primary"}}New Notification{{/linkTo}}
  </script>

  <script type="text/x-handlebars" data-template-name="notifications/new">
      <h2>New Notification</h2>
      <p>{{view Ember.TextField elementId='notification-name' valueBinding="name" placeholder="Title of notification"}}</p>
      <p>{{view Ember.TextField elementId='notification-to' valueBinding="to" placeholder="List interested groups of people"}}</p>
      <p>{{view Ember.TextArea elementId='notification-message' valueBinding="message" placeholder="Notification content"}}</p>
      <button {{action 'submit' content}}>Create Notification</button>
  </script>

  <script type="text/x-handlebars" data-template-name="notification">
    <h2>{{name}}</h2>
    <h4>Sent At {{dateFromNow whenSent}}</h4>

    <hr />

    <div class="message">
      {{markdown message}}
    </div>

    <hr />

    <div class="sent-to">
      {{to}}
    </div>

  </script>

  <script type="text/x-handlebars" data-template-name="index">
    Index
  </script>

  <script src="js/libs/jquery-1.9.1.js"></script>
  <script src="js/libs/handlebars-1.0.0-rc.4.js"></script>
  <script src="js/libs/ember-1.0.0-rc.6.js"></script>
  <script src="js/libs/ember-data-latest.js"></script>
  <script src="js/libs/moment.min.js"></script>
  <script src="js/libs/showdown.js"></script>
  <script src="js/libs/showdown_extensions/github.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/app.js"></script>

</body>
</html>